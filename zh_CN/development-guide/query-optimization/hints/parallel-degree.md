# 查询并行度优化指南

## 概述
Datalayers 采用智能并行查询策略，默认情况下会自动调度多核CPU资源，通过任务并行化来加速大数据量查询。但在高并发小查询场景下，过度的并行化可能带来额外开销，合理配置并行度可显著提升系统整体QPS。

## 并行策略
### 默认并行策略
- **自动任务拆分**：将查询任务分解为多个子任务（数据分片、并行扫描、聚合计算）
- **CPU资源最大化**：充分利用多核CPU并行处理
- **大数据量优势**：对于扫描大量数据的查询性能提升显著

## 小查询优化策略
- **降低并行开销**：小查询场景下，任务调度开销可能超过并行收益
- **提升QPS**：减少上下文切换，提高系统吞吐量
- **时序场景适用**：设备点位查询、短时间范围数据检索

## 语法

```sql
SELECT /*+ SET_VAR(parallel_degree=1) */ * FROM table;
```


